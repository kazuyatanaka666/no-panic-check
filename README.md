# 店舗向け iPad 接客支援システム（MVPデモ）

店頭の鏡前に設置した iPad で服装を撮影し、店舗在庫からおすすめ商品を提案する試作です。

## 1. システム全体構成（提案）

- **フロントエンド（iPadブラウザ）**
  - カメラ撮影 / 画像選択
  - 服装特徴の表示
  - おすすめ商品の表示
- **推論ロジック（MVPはフロント内）**
  - 画像の平均色・明るさなどから簡易特徴抽出
  - 在庫データとルールベース照合しスコアリング
- **在庫データ**
  - MVPは `data/inventory.json` のダミーJSON
  - 将来は店舗POS/在庫APIと連携

## 2. MVPに必要な機能一覧

- [x] カメラ開始・撮影
- [x] 画像ファイル選択（カメラが使えない環境の代替）
- [x] 服装特徴の簡易抽出（色味、シルエット、カジュアル/フォーマル、季節感）
- [x] 在庫データ読み込み
- [x] スコアリング & 上位3〜5件表示
- [x] おすすめ理由コメント表示
- [x] 在庫あり/なし表示

## 3. 画面構成

1. **撮影エリア**
   - カメラプレビュー
   - 撮影ボタン
   - 画像選択ボタン
2. **解析結果エリア**
   - 抽出特徴のリスト表示
3. **おすすめエリア**
   - おすすめ表示ボタン
   - 商品カード（画像/商品名/価格/在庫/理由）

## 4. データ構造

`inventory.json` の商品データ（MVP）:

- `id`: 商品ID
- `name`: 商品名
- `category`: カテゴリ
- `color`: 色
- `size`: サイズ
- `material`: 素材
- `taste`: テイスト
- `season`: 季節
- `stock`: 在庫数
- `price`: 価格
- `image`: 商品画像URL

抽出特徴（メモリ上）:

- `color`: 推定色
- `silhouette`: 縦長/横広
- `style`: カジュアル/フォーマル
- `season`: 季節感
- `itemType`: アイテム種別
- `avgLuma`: 明るさ（内部用）

## 5. 技術選定

- **HTML/CSS/Vanilla JavaScript**
  - 初学者でも理解しやすく、依存が少ない
- **Canvas API**
  - 画像画素を読み取り、軽量な特徴抽出
- **MediaDevices API**
  - iPadカメラ利用

## 6. 実装ステップ

1. 静的画面（撮影・解析・結果）を作成
2. 在庫ダミーデータを作成
3. 画像取り込み（カメラ/ファイル）実装
4. Canvasで特徴抽出ロジック実装
5. 在庫スコアリング実装
6. 商品カード表示と理由文生成
7. ローカル動作確認

## ディレクトリ構成

```txt
.
├─ index.html
├─ README.md
├─ data/
│  └─ inventory.json
└─ src/
   ├─ app.js
   └─ styles.css
```

## ローカル起動

```bash
python3 -m http.server 8000
# ブラウザで http://localhost:8000 を開く
```

> 注意: MVPは精度よりも、接客フローが動くことを重視しています。
